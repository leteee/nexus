# Demo case configuration - showcases hierarchical configuration
# This configuration overrides global settings for this specific case

# Case-specific data sources
data_sources:
  raw_data:
    path: "generated_data.csv"
    handler: "csv"
    must_exist: false  # Will be generated by first plugin

  cleaned_data:
    path: "processed/cleaned_data.csv"
    handler: "csv"
    must_exist: false

  validation_report:
    path: "reports/validation_report.json"
    handler: "json"
    must_exist: false

# Case-specific plugin configuration overrides
plugins:
  "Data Generator":
    # Override global config for this case
    num_rows: 3000  # Different from both global (5000) and plugin default (1000)
    num_categories: 6  # Override plugin default
    noise_level: 0.2  # Higher noise for testing

  "Data Cleaner":
    # Override global configuration
    outlier_threshold: 3.0  # Less strict than global (2.5)
    fill_missing: true
    # missing_strategy will use global setting (median)

  "Data Validator":
    required_columns: ["id", "category", "value"]
    min_rows: 2500  # Case-specific requirement

# Pipeline execution steps
pipeline:
  - plugin: "Data Generator"
    # Step-specific config (highest priority except CLI)
    config:
      num_categories: 5  # Overrides case-level setting above
    outputs:
      - name: "raw_data"

  - plugin: "Data Cleaner"
    inputs:
      - name: "raw_data"
    outputs:
      - name: "cleaned_data"

  - plugin: "Data Validator"
    inputs:
      - name: "cleaned_data"
    outputs:
      - name: "validation_report"

# Case-specific framework settings
framework:
  logging:
    level: DEBUG  # More verbose for demo
  data:
    default_cache_size: 50  # Smaller cache for demo